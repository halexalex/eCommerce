<!DOCTYPE html>

{% load static %}

<html lang="en">

    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <title>Title</title>
      {% include 'base/css.html' %}
      {% block base_head %}
      {% endblock base_head %}
    </head>
    <body>

        {% include 'base/navbar.html' with brand_name='eCommerce' %}
        <div class="container">
            {% block content %}{% endblock content %}
        </div>
        {% include 'base/js.html' %}

        <script>
            $(document).ready(function() {
                var productForm = $(".form-product-ajax");
                productForm.submit(function(event) {
                    event.preventDefault();
                    console.log("Form is not sending");
                    var thisForm = $(this);
                    var actionEndpoint = thisForm.attr("action");
                    var httpMethod = thisForm.attr("method");
                    var formData = thisForm.serialize();

                    $.ajax({
                       url: actionEndpoint,
                       method: httpMethod,
                       data: formData,
                       success: function(data) {
                           console.log("success")
                           console.log(data)
                       },
                       error: function(errorData) {
                           console.log("error")
                           console.log(errorData)
                       }
                    })
                })
            })
        </script>

    </body>

</html>
